- 脉冲波形的基本参数：![[Pasted image 20241125104227.png]]
## 脉冲波形的整形——施密特触发电路

- 用门电路组成的施密特触发电路：
	- 结构：![[Pasted image 20241125095854.png]]
	- 工作原理：
		- 中间部分是一位的锁存结构，由其电压传输特性曲线，电路会稳定在低电平和高电平两处，进而可以得到，电路**在0和1两个输入处于稳态**![[Pasted image 20241125100221.png]]
		- 假设反相器是完全理想的，对输入、输出均为0的稳态，由于反相器内部的保护电路，其在工作时，电流只有二极管的反向截止电流，其值很小，几乎可以忽略，因此，第一个节点处的电压和输入电压关系满足：$V_A=\frac{R_2}{R_1+R_2}V_I$![[Pasted image 20241125101029.png]]
		- 当输入电压上升，直至$V_A$达到转折电压$V_{TH}$时，$V_A$上升，$V_{O1}$下降，$V_O$上升，**反馈回到$V_A$使得其再上升**，结果使得其迅速的跳变到1的稳态。转折点（正向阈值电压）：$V_{T+}=(1+\frac{R_1}{R_2})V_{TH}$
		- 同理，分析从1稳态到0稳态的过程：$V_A=V_I+\frac{R_1}{R_1+R_2}(V_{DD}-V_I)$，因此，同样有一个**下降的反馈调节**，可求解其转折点（负向阈值电压）：$V_{T-}=(1-\frac{R_1}{R_2})V_{TH}$
		- 由两个阈值电压的表达式，可知，要求**必须有$R_1<R_2$**，电路才可以正常工作。可知，**输入信号在上升和下降过程中，电路状态转换的输入电平不同**（即正向和负向的阈值电压不同）
		- 电压传输特性曲线$V_{TC}$：中间的差值称为回差电压：$2\frac{R_1}{R_2}V_{TH}$![[Pasted image 20241125102252.png]]
	- 符号：![[Pasted image 20241125102332.png]]
	- 缺点：虽然可以达到很好地上升、下降时间，但**对脉冲的脉宽没有整形作用**
- 施密特触发电路的应用：
	- 用于脉冲整形：在阈值电压处翻转![[Pasted image 20241125102431.png]]用于锯齿波整形（图1），按键的防抖功能（图2），传输中噪声信号的消除（图3）
	- 用于波形变换：正弦波转化为方波![[Pasted image 20241125102755.png]]
	- 用于鉴幅：![[Pasted image 20241125102943.png]]
## 脉冲波形的整形——单稳态触发电路

- 工作特点：
	- 有一个**稳态**和一个**暂稳态**
	- 在外界触发信号作用下，能**从稳态到达暂稳态**，**维持一段时间后自动返回稳态**
	- 暂稳态维持的时间长短**仅取决于电路内部参数**，和外部脉冲无关
- 用门电路组成的单稳态触发电路：
	- 结构：![[Pasted image 20241125104753.png]]
	- 工作原理：
		- 分析稳态，电容不再充放电时，电路稳态，此时电阻$R_{d}$上没有电流，可知$V_{d}$稳态为0，进而可以得到不同节点的稳态值（0或1），即图中蓝色所示![[Pasted image 20241125105131.png]]
		- 输入正向的脉冲信号，$V_{I}$上升，经过电容的微分作用，$V_{d}$形成一个小的尖峰脉冲，在上升跳变沿，超过或非门的$V_{TH}$后，引起后方电路的一系列变化，通过反馈作用，使得电路迅速跳变到暂稳态：$V_{O1}=0,V_{I2}=0,V_O=1$
		- 暂稳态下，R两端有压差，因此对电容C开始充电，完成暂稳态到稳态的跳变
			- 不断充电，至$V_{I2}=V_{TH}$时，引起反相器G2的跳变，$V_{O}$下降，反馈到或非门的输入端，$V_{O1}$上升，电路迅速回到稳态
			- 为了反馈过程可以正常进行，此时，或非门的另一个输入必须为0，因此输入部分的微分电路使得输入成为一个微分的尖峰脉冲，进行从暂稳态到稳态的调节时，其已经回到了0
			- 对充电过程，达到$V_{TH}$后，电容左侧的电压会迅速跳变到$V_{DD}$，右侧电压按照反馈过程，应当跳变到$V_{DD}+V_{TH}$，但由于反相器的前级保护电路，其会将电压控制在$V_{DD}+V_{on}$的量级![[Pasted image 20241125163227.png]]
		- 充放电回路：
			- 充电回路：或非门输出0时，下拉管导通。由于下拉管导通电阻很小，忽略![[Pasted image 20241125110349.png]]简化后，可知其时间常数$\tau=RC$
			- 放电回路：一侧从或非门的上拉管导通电阻放电，另一侧，可以从二极管的导通电阻放电，但当电压差下降到比较低是，二极管的电阻会上升。这一侧放电也可以从电阻R放电![[Pasted image 20241125110504.png]]其时间常数$\tau=((R//r_{D1})+R_{ON})C$
	- 电压波形和参数：
		- 波形：![[Pasted image 20241125110702.png]]
			- $V_d$的下降沿没有到达对称的值：由于门电路的保护电路
		- 解释：
			- 触发过程，完成各个状态之间的变化，跳变到暂稳态
			- 对暂稳态的充电过程，$V_{I2}$不断充电，电压逐渐上升，当达到$V_{TH}$时，完成从暂稳态到稳态的跳变
		- 求解时间：
			- 脉宽即充电到$V_{TH}$时需要的时间，计算可得：$$t_w=RC\ln{\frac{V_{\infty}-V_0}{V_{\infty}-V_t}}=RC\ln{\frac{V_{DD}-0}{V_{DD}-V_{TH}}}=RC\ln2$$
			- 对暂稳态到稳态过后的跳变，需要完成中间电容的放电后，下一次跳变到暂稳态才可以进行。对电容，认为经过3~5个时间常数后，放电完毕，因此对周期的长度是有要求的
				- $$t_{re}=(3— 5)(R//r_{D1}+R_{ON})C$$
				- $$t_{d}=t_{w}+t_{re}$$
	- 对称的与非门电路：负脉冲触发，稳态下输出1，暂稳态下输出0![[Pasted image 20241127153506.png]]
- 单稳态电路的可重复触发问题：
	- 在一个周期内，只能触发一次，即为**不可重复触发**：![[Pasted image 20241125164028.png]]
	- 在一个周期内可以多次触发，每次触发都会延长暂稳态持续时间，即为**可重复触发**：![[Pasted image 20241125164146.png]]
## 脉冲波形的产生——多谐振荡电路

- 由门电路构成的非对称式多谐振荡电路：
	- 结构：没有输入端![[Pasted image 20241127154315.png]]
	- 工作原理：
		- 对左侧$R_P,G_1,R_F$构成的回路，根据其$V_{TC}$曲线分析稳态![[Pasted image 20241127154613.png]]电路的稳态在P点（$V_{TH}$），即为电路的静态工作点
		- 由于正向的扰动，使得$v_{I1}$有微小的上升，$v_{I2}$下降，$v_{O2}$上升，通过反馈作用使得$v_{O1}$迅速到达0，$v_{O2}$迅速到达1，电路进入暂稳态。由于和$v_{O1}$有电位差，因此电容开始放电，使得$v_{I1}$下降
		- $v_{I1}$下降至$V_{TH}$，经过同样的正反馈，使得$v_{O1}$迅速到达1，$v_{O2}$迅速到达0，电路同样进入暂稳态。由于和$v_{O1}$有电位差，电容开始充电，$v_{I1}$上升，至$V_{TH}$时，开始下一个循环
		- 充放电回路：
			- 放电回路：![[Pasted image 20241127155937.png]]
			- 充电回路：![[Pasted image 20241127160148.png]]
			- 分析电容两端的电位：![[Pasted image 20241127160307.png]]开始时，均处于$V_{TH}$。正向扰动使得两个极板的电位迅速来到$V_{DD}$（电容两端电压不能突变）左极板随着放电逐渐降低到$V_{TH}$，引起正反馈跳变到下一个暂稳态，右极板电位下降至0，左极板电位要跟着下降$V_{DD}$到达$V_{TH}-V_{DD}$，之后完成充电过程，左侧电压会增加到$V_{TH}$，进行下一次跳变，右极板上升到$V_{DD}$，左侧极板会跟着跳变到$V_{TH}+V_{DD}$
		- 波形和参数计算：
			- 波形：![[Pasted image 20241127161508.png]]
			- 周期：
				- 总周期：$T=T_1+T_2$，$T_1$指充电时间，$T_2$指放电时间
				- $$T_1=R_F C \ln{\frac{V_{\infty}-V_0}{V_{\infty}-V_t}}=R_F C \ln{\frac{V_{DD}-(V_{TH}-V_{DD})}{V_{DD}-V_{TH}}}=R_FC\ln 3$$
				  $$t_W=T_2=R_F C \ln{\frac{V_{\infty}-V_0}{V_{\infty}-V_t}}=R_F C \ln{\frac{0-(V_{TH}+V_{DD})}{0-V_{TH}}}=R_FC\ln 3$$
- 用施密特触发电路构成的多谐振荡电路：
	- 结构：![[Pasted image 20241127162702.png]]
	- 输出波形：用充放电的输出反馈回施密特触发器，实现多谐振荡电路![[Pasted image 20241127162734.png]]
		- 周期：$$T=T_1+T_2=R C \ln{\frac{V_{DD}-V_{T-}}{V_{DD}-V_{T+}}}+R C \ln{\frac{0-V_{T+}}{0-V_{T-}}}$$
	- 改进：将充电放电的回路用二极管分开，接入可调节的电阻，即可实现周期的调节
		- 结构：
			- ![[Pasted image 20241127163449.png]]
		- 周期：$$T=T_1+T_2\approx R_2 C \ln{\frac{V_{DD}-V_{T-}}{V_{DD}-V_{T+}}}+R_1 C\ln{\frac{0-V_{T+}}{0-V_{T-}}}$$
- 石英晶体多谐振荡电路：利用石英晶体的电特性产生的振荡电路，如图，晶体只有在频率为$f_0$时，其电抗最小，因此可以让振荡频率在稳定的$f_0$
	- ![[Pasted image 20241129212937.png]]
## 555定时器及其应用

- 555定时器的结构与功能：
	- 结构：由锁存器，输出缓冲器，OD输出的非门，电阻，电压比较器（同相端大于反相端则输出1，反之输出0）构成 ![[Pasted image 20241127164622.png]]
	- 功能表：
		- ![[Pasted image 20241127165221.png]]
- 555定时器的应用：
	- 吉他调音器的测频电路模块：
		- 思路：使用闸门信号，计数闸门信号打开期间的周期数
		- 需求：![[Pasted image 20241202095823.png]]
	- 用555定时器接成施密特触发电路：
		- 电路结构：![[Pasted image 20241202101033.png]]
		- 工作原理：
			- 稳态：$v_I$为0时，输出为1；$v_I$为1时，输出为0；
			- 阈值电压：两个电压比较器的电压限，分别为$\frac{1}{3}V_{DD}$和$\frac{2}{3}V_{DD}$
			- 为防止$C_1$的反相端连接的外部引脚5对电路干扰，使得其阈值电压稳定在$\frac{2}{3}V_{DD}$，通过小电容接地滤波；同时，RESET引脚应当接1
		- 控制电压的接入：在引脚5接入$V_{CO}$，可以将阈值电压调整到$V_{CO}$和$\frac{1}{2}V_{CO}$![[Pasted image 20241202101229.png]]
	- 用555接成多谐振荡电路：
		- 电路结构：![[Pasted image 20241202101612.png]]
		- 工作原理：和用施密特触发电路接成的多谐振荡电路等效。为不影响输出的带载能力，用OD输出的非门的输出等效给$v_O$
		- 周期：$$T=T_1+T_2=(R_1+R_2) C \ln{\frac{V_{DD}-V_{T-}}{V_{DD}-V_{T+}}}+R_2 C \ln{\frac{0-V_{T+}}{0-V_{T-}}}$$当不接外部控制电压时，其占空比：（出于安全考虑，$R_1$不能太小）$$q=\frac{R_1+R_2}{R_1+2R_2}>50\%$$
		- 改进占空比：
			- 改进结构：利用二极管单向导电性和变阻器调节电路充放电回路的电阻![[Pasted image 20241202102234.png]]
			- $$q=\frac{R_1}{R_1+R_2}$$
	- 用555定时器接成单稳态触发电路：
		- 电路结构：![[Pasted image 20241202102657.png]]
		- 工作原理：
			- $v_I$接入TRIG引脚，负脉冲到达时，触发电路使电路达到暂稳态1
			- 引脚6上升到$\frac{2}{3}V_{DD}$可以使得电路脱离暂稳态，将$V_{DD}$接入RC电路使得电路经过一段时间后脱离暂稳态，之后通过三极管放电
			- 是不可重复触发的电路
		- 周期计算：
			- 触发电压为$\frac{1}{3}V_{DD}$，开始充电，到达$\frac{2}{3}V_{DD}$时，若触发脉冲已经高于$\frac{1}{3}V_{DD}$，则开始放电（否则，何时触发脉冲回到1，输出才放电回到0，波形显示为输入和输出完全反相）
			- 脉宽：$$t_w=R_1C\ln{\frac{V_{DD}-0}{V_{DD}-\frac{2}{3}V_{DD}}}=R_1C\ln3$$同样可以用控制电压调整阈值控制脉宽
		- 改进：
			- 缺点：由原理，输出的脉宽不可能低于输入的脉宽
			- 措施：加入RC微分电路，在输入端后接入电容，减小脉冲宽度![[Pasted image 20241202105110.png]]