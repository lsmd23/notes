## 位的存储和SR锁存器

- 位的存储：将两个反相器闭合级联，根据$V_{TC}$的特性曲线，可以存储0或1![[Pasted image 20241030154602.png]]原理：正反馈使得电路状态只能稳定在两端
- 位的读写：用或非门改进电路，使得存储电路可以写入0或1![[Pasted image 20241030155104.png]]
- SR锁存器：封装电路
	- 结构与符号：![[Pasted image 20241030155318.png]]
	- 特点：有两个能自行保持的稳态；且根据输入信号可置成0或1
	- 真值表：
		- ![[Pasted image 20241030155734.png]]
		- $S_D$和$R_D$的1同时消失后，信号不定，因此正常工作应遵循$S_DR_D=0$的约束条件
	- 用与非门也可以制作SR锁存器：
		- ![[Pasted image 20241030155957.png]]
## 电平触发的触发器

- 电平触发的SR触发器：前加一级与非门构成的控制门
	- 结构与符号：![[Pasted image 20241030160446.png]]
	- 特点：只有触发信号CLK为高电平时，S和R才起作用
	- 带初始化的触发器：![[Pasted image 20241030161345.png]]$S_D'$和$R_D'$用于直接将触发器置0或置1，称为异步的置0/1端
	- 缺点：约束条件增加，输出仍然不确定
- 电平触发的D触发器：解决约束条件的问题
	- 结构与符号：![[Pasted image 20241030162154.png]]
	- 真值表：
		- ![[Pasted image 20241030162122.png]]
	- 一些其它的实现：
		- 基于MUX的实现：![[Pasted image 20241030162712.png]]
		- 基于传输门的实现：![[Pasted image 20241030162730.png]]
		- 缺点：CLK=1时，Q和D等同于短接，如果后级加入任何的组合电路模块，会对这个电路反馈路径产生影响，无法正常工作
## 脉冲触发的触发器

- 主从SR触发器：
	- 结构：![[Pasted image 20241030163601.png]]
	- 符号：
		- ![[Pasted image 20241030163613.png]]
	- 特点：
		1. CLK=1时，主触发器按S,R翻转，从触发器不变
		2. CLK下降后，主触发器保持，从触发器根据主触发器的状态翻转
		3. 每个CLK的周期，输出状态只改变一次
	- 真值表：
		- ![[Pasted image 20241030163902.png]]
	- 波形图：![[Pasted image 20241030164308.png]]读取下降沿前半个高电平部分的状态，输出到Q和Q'端
	- 缺点：依然没有消除约束条件的问题
- 主从JK触发器：利用大的反馈线保证约束条件
	- 结构：![[Pasted image 20241030165000.png]]![[Pasted image 20241030165130.png]]
	- 符号：![[Pasted image 20241030165012.png]]
	- 特点：$S=JQ'$，$R=KQ$，分析逻辑功能如下：![[Pasted image 20241104100344.png]]J=K=1时，会发生**翻转**
	- 功能表：![[Pasted image 20241104100438.png]]
	- 波形图：![[Pasted image 20241104100948.png]]
		- 注意：对下图的波形![[Pasted image 20241104101027.png]]**由于反馈机制的存在，在Q=0时，只允许J的信号进入主触发器，在Q=1时，只允许K的信号进入主触发器。也即，主从JK在高电平期间，只可能翻转一次**
	- 缺点：不能完全屏蔽掉高电平期间的尖峰脉冲的影响
## 边沿触发的触发器

- 边沿触发的D触发器：触发器次态仅取决于CLK的下降沿（或上升沿）到达前瞬间的信号，与其他状态均无关
	- 结构：上升沿工作![[Pasted image 20241104101729.png]]
	- 符号：
		- ![[Pasted image 20241104101735.png]]
	- 波形图：只读取上升沿即可![[Pasted image 20241104101845.png]]
	- 实现：![[Pasted image 20241104102014.png]]
	- 扩展：加入异步的置0置1端![[Pasted image 20241104102227.png]]
## 触发器的分类及功能表示法

- 分类：
	- 触发方式：电平触发、脉冲触发、边沿触发
	- 翻转规则：SR触发器、JK触发器、T触发器、D触发器
- SR触发器：
	- 由真值表可以列出特性方程：![[Pasted image 20241104103923.png]]
	- 状态转换图：
		- ![[Pasted image 20241104104145.png]]
- JK触发器：
	- 特性方程：$Q^*=JQ'+K'Q$
	- 状态转换图：![[Pasted image 20241104104544.png]]
	- 注：不可能有电平触发的JK触发器
- T触发器：
	- 特性方程：$Q^*=TQ'+T'Q$
	- 状态转换图：
		- ![[Pasted image 20241104104826.png]]
	- 同样：没有电平触发的T触发器
	- 由JK触发器获取
- D触发器：
	- 特性方程：$Q^*=D$
	- 状态转换图：
		- ![[Pasted image 20241104105017.png]]
	- 没有脉冲触发的D触发器
- 设计触发器：
	- 状态转换图的条件：对一个状态的保持和跳变，需要保证条件是互补的
	- 设计方法：
		1. 根据转换图，画出卡诺图，写出逻辑式![[Pasted image 20241104105745.png]]
		2. 根据待使用的触发器，写出其输入端的逻辑表达式![[Pasted image 20241104105837.png]]
		3. 按照表达式设计即可
## 触发器的动态特性

- 指标：
	- 传输延迟时间：$t_{PD},t_{CD}$
	- 输入信号宽度：$t_W$
	- 建立时间：$t_{SETUP}$，输入信号相对于控制信号CLK，需要“早到”，以完成对输出的控制
	- 保持时间：$t_{HOLD}$，输入信号相对于控制信号CLK，还需要“晚走”，以在控制信号闭合后再改变状态
	- 最高时钟频率：$f_{CLK(max)}$
- SR锁存器：
	- ![[Pasted image 20241104111241.png]]
	- 传输延迟时间：$t_{PD}=2t_{pd},t_{CD}=t_{cd}$
	- 输入信号宽度：$t_W>\geqslant2t_{pd}$
- 同步SR触发器：
	- ![[Pasted image 20241104111800.png]]
	- 传输延迟时间：$t_{PD}=3t_{pd},t_{CD}=2t_{cd}$
	- 输入信号宽度：$t_{W(S*CLK)}\geqslant3t_{pd}$
	- 建立时间：$t_{SETUP}\geqslant3t_{pd}$
	- 保持时间：$t_{HOLD}\geqslant t_f$
- 同步D触发器：（忽略反相器的延迟）
	- ![[Pasted image 20241106152249.png]]
	- 传输延迟时间：$t_{PD}=3t_{pd},t_{CD}=2t_{cd}$
	- 输入信号宽度：$t_{W(D*CLK)}\geqslant3t_{pd}$
	- 建立时间：$t_{SETUP}\geqslant3t_{pd}$
	- 保持时间：$t_{HOLD}\geqslant t_f$
- 主从JK触发器：（忽略反相器的延迟）
	- ![[Pasted image 20241106152507.png]]
	- 传输延迟时间：$t_{PD(CLK2Q)}=3t_{pd},t_{CD}=2t_{cd}$
	- 建立时间：$t_{SETUP}\geqslant3t_{pd}$
	- 保持时间：$t_{HOLD}\geqslant t_f$
	- 最高时钟频率：$f_{CLK(max)}\leqslant\frac{1}{t_{SETUP}+t_{PD(CLK2Q)}}=\frac{1}{6t_{pd}}$
	- 额外条件：从触发器开始“关门”，即CLK的上升沿期间，主触发器开始工作。为使得信号可以正常传输，需要主触发器延迟失效，也即，$t_{CD(master)}>t_{HOLD(slave)}$
- 边沿D触发器：
	- ![[Pasted image 20241106153547.png]]
	- 传输延迟时间：$t_{PD}=t_{PD(slave)},t_{CD}=t_{CD(slave)}$
	- 建立时间：$t_{SETUP}=t_{SETUP(master)}$
	- 保持时间：$t_{HOLD}=t_{HOLD(master)}$
	- 条件：$t_{CD(master)}>t_{HOLD(slave)}$
	- 最高时钟频率：$f_{CLK(max)}\leqslant\frac{1}{t_{SETUP}+t_{PD(CLK2Q)}}=\frac{1}{6t_{pd}}$
## 寄存器 Register

- 用于寄存一组二值代码，N位寄存器由N个触发器组成，可存放一组N位二值代码
- 只要求其中每个触发器可置1、置0
- 例：集成芯片74HC175![[Pasted image 20241106154301.png]]
- 应用：优化组合电路的性能：将各个模块中间的连线转化为寄存器，可以使得各个模块之间成为真正的并行逻辑![[Pasted image 20241106155033.png]]
	- 参数：
			- Latency(L)：输入产生输出的间隔时间
			- Throughput(T)：新输出产生的时间
	- 引入寄存器对电路性能的影响：![[Pasted image 20241106155712.png]]
		- **流水线式工作**：![[Pasted image 20241106155857.png]]
			- 要求：每个输出都有一个寄存器，每条路径经过的寄存器数目一致，同时保证动态传输特性的条件
			- 设计策略：找到最慢的模块，以其为基准，在不同模块之间划分，保证划分的每个模块其中最大的传输延迟不能大于最慢模块的传输延迟![[Pasted image 20241106160507.png]]
## 大规模半导体存储器

- 静态随机存储器(SRAM)：
	- 结构：![[Pasted image 20241106162028.png]]
	- 存储单元：![[Pasted image 20241106162331.png]]
		- 中间为最基本的两个反相器构成的位存储
		- $T_5$与$T_6$，$T_7$与$T_8$两组三极管用于构成传输门，连通到地址译码器
		- 下面一部分基于三态门，构成了读写模块
	- 芯片实例：![[Pasted image 20241106163023.png]]
- 掩膜ROM：
	- 基于二极管的实现：![[Pasted image 20241106163336.png]]存储矩阵的每个交叉点是一个“存储单元”，例如存储单元中有器件存入”1”，无器件存入“0”
		- 无法更改，出厂时已经固定
	- 可编程ROM(PROM)：加入一个保险熔丝，编程时，将不需要的熔丝烧断。是一次性编程，不能反复改写
	- 可擦除编程的PROM：紫外线擦除与电可擦除，电可擦除依赖于三极管的电特性与结构特性，通过改造结构实现电可擦除
## 存储器的应用与扩展

- 存储器的存储特性：
	- 字数：即存储地址数目对应的二进制数位数，n位的存储器，对应$2^n$个存储地址
	- 位数：每个地址所存储的数据规模，同样用二进制的位数表示
- 存储器的位扩展：
	- 当存储器的字数够用而位数不够时，需要对位数进行扩展
	- 方式：并联各片的地址线、读写线与片选线![[Pasted image 20241108194657.png]]
- 存储器的字扩展：
	- 当存储器的位数够用而字数不够时，需要对字数进行扩展
	- 方法：利用其它的组合电路，实现对额外位数的选择，利用复数个低字数的存储器实现分配![[Pasted image 20241108194747.png]]
- 利用存储器实现组合逻辑函数：
	- 基本原理：若以地址线为输入变量，则数据线即为一组关于地址变量的逻辑函数
	- 方式：操作逻辑矩阵，将需要的最小项连接到输出即可
	- 例：![[Pasted image 20241108194916.png]]


