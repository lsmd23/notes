# 网络流图
- 解决实际的流量问题
- 基本概念：
	- 定义：网络$N$是一个无自环的有向连通图，满足：
		- 只有一个入度为0的点$s$，称为**源点**
		- 只有一个出度为0的点$t$，称为**汇点**
		- 每条边$(i, j)$都有一个非负实数权$c_{ij}$，称为该边的**容量**
		- 如果结点$i$到$j$没有边，则$c_{ij}= 0$
		- 既非源，又非汇的顶点称为**中间点**，一般地$c_{ij}\neq c_{ji}$
	- 当源、汇不唯一时，可以增加一个超发点$s_0$，一个超收点$t_0$，增加若干边$(s_0, s_i)$和$(t_j, t_0)$，其中$s_i, t_j$分别是每个产地和销地，同时边$(s_0, s_i)$的容量是$s_i$的生产能力，$(t_j, t_0)$容量是$t_j$的销售能力，转化为单源单汇的网络图
	- 流：在网络$N$中，如果每条边$e_{ij}$都给定一个非负实数$f(e_{ij})$，满足$0 ≤ f(e_{ij}) ≤ c_{ij}, e_{ij}∈N$且$\sum_jf(e_{ij}) = \sum_kf(e_{ki}), i≠ s, t$，则称f为该网络的**流**，又称为**可行流**
		- 第一个条件称为**容量约束**：一条有向边的流量不能够超过这条有向边的容量
		- 第二个条件称为**守恒条件**：对于任何中间点$v$，物资输入$v$的流量等于输出$v$的流量
		- 可行流总是存在的，例如所有$f_{ij}= 0$(称为零流)
	- 在网络$N$的一个容许流分布$f$里，满足$f_{ij}= c_{ij}$的边称为**饱和边**，否则为**非饱和边**
	- 对收、发点$u_t, u_s$有$\sum_if_{si}= \sum_jf_{jt}= W$（即从$u_s$点发出的物资总量等于$u_t$点输入量），$W$为网络流的**总流量**
	- 如果一个容许流分布使得网络的流量$w_0$为最大，即$w_0= \max \sum_jf_{sj}$，就说$w_0$是网络的**最大流**
		- **最大流问题**：是一个规划问题
			- 定义：
		- 求同时满足以下条件的$\max w$即可：$\forall (i,j)\in V,\sum f_{ij}-\sum f_{ji}= w(i= s);\sum f_{ij}-\sum f_{ji}= -w(i= t);\sum f_{ij}-\sum f_{ji}= 0(i≠s, t);0 ≤ f_{ij}≤ C_{ij}$可以用规划的方式求解
- 最大流-最小割定理：
	- 割切：设$S$是网络流图$N = (V, E)$中的一个结点集，满足：$s ∈ S$，$t \in \bar S,\bar S =V-S$，则全部有向边$(i, j), i ∈ S, j∈ \bar S$的集合称为$N$的一个**割切**，记为$(S,\bar S)$。把割切的全部边集去掉后，由$s$到$t$无任何有向路。$(S,\bar S)$中的各边的容量之和称为该割切的**容量**，记为$C$：$$(S,\bar S)=\sum_{(i,j)\in(S,\bar S)}c_{ij}$$注意：计算时应是**正向边的容量之和**
		- 例：![[Pasted image 20250514182928.png]]
	- 定理：网络的最大流量小于等于最小的切割容量，即$\max w ≤ \min C$
- 增流路径：
	- 如果网络的容许流并不是最大流，则一定存在从$s$到$t$的**增流路径**
		- 令$s,i_1,i_2,\cdots,i_k,t$是一条初级路径$P_{st}$
		- 对前向边：每条边都是从$i_j$到$i_{j+1}$，若每条边上都有$f_{ij}<c_{ij}$，则令$\delta=\min_{e_{ij}\in P{st}}(c_{ij}-f_{ij})$，令$P_{st}$每条边的流都增加$\delta$，可以得到一个流量更大的流分布
		- 对后向边，由守恒条件，后向边的源点需要提供足够多的”流“，才能使得前向边可以增流$\delta$
	- 定义：
		- （有向的）饱和边：对前向边，$f_{ij}=c_{ij}$；对后向边，$f_{ji}=0$，称该边为饱和边
		- 对一条路径上的所有边，若前向边和后向边都不饱和，则这条道路为可增流路径，令：$$\delta_{ij}=\begin{cases}c_{ij}-f_{ij}&当(i,j)为前向边\\f_{ij}&当(i,j)为后向边\\\end{cases}$$则$\delta=\min\{\delta_{ij}\}$
# Ford-Fulkerson最大流标号算法



# Edmonds-Karp算法

# *最小费用流*