**访问受约束**的一种数据结构
## 基本概念

- 只能在表的顶端进出的线性表
- 支持的操作接口：复杂度均为O(1)
	- 插入 push(x)
	- 删除（取出）pop()
	- 访问 top()
	- 判空 empty()
	- 求长 size()
- 实现：
	- 向量实现：直接从向量派生![[Pasted image 20241009100802.png]]![[Pasted image 20241009100812.png]]插入、删除、访问都在向量末端进行，所有操作的复杂度为O(1)
	- 单链表实现：![[Pasted image 20241009101040.png]]从单链表的头节点插入、删除、访问，实现O(1)复杂度
	- 列表（双向链表）实现：直接从列表派生![[Pasted image 20241009101245.png]]![[Pasted image 20241009101311.png]]双向列表在末元素插入、删除、访问，实现O(1)复杂度
## 栈的应用
#### 进制转换
- 适合**输出次序与处理次序颠倒**，处理**深度和长度未知**情况![[Pasted image 20241009101926.png]]
- 代码实现：![[Pasted image 20241009102210.png]]
#### 括号匹配
- 判断左右括号是否合法成对
- 方法：从左往右扫描，碰到开（左）括号，入栈，碰到闭（右）括号，若栈顶不是对应的开括号，返回错误；若是，则出栈，最后必须栈空
- 代码实现：![[Pasted image 20241009102820.png]]
#### 表达式求值
- 中缀、前缀与后缀表达式![[Pasted image 20241009104205.png]]
- 后缀表达式的求值：通过栈维护数据，通过读取操作符来出栈对表达式进行计算![[Pasted image 20241009105227.png]]
- 表达式转换：操作数顺序不变，操作符顺序变
	- 无括号：![[Pasted image 20241009105906.png]]保证栈顶永远是优先级更高的运算符
	- 有括号：![[Pasted image 20241009105926.png]]对左右括号作栈式的扫描，调整优先级顺序
- 合并实现：
	- 使用两个栈——操作数栈和操作符栈进行联合运算![[Pasted image 20241009110457.png]]
	- *代码实现*：![[Pasted image 20241009110211.png]]![[Pasted image 20241009110220.png]]
#### ==栈混洗==
- 给定n个对象 $\{a_1, a_2, ..., a_n\}$ 的序列，经一系列入、出栈后，其出栈序列 $\{a_{k_1}, a_{k_2}, ..., a_{k_n}\}$ 即为一种混洗
- 每种混洗序列对应一种入出栈操作序列
- 入栈出栈可行操作序列分析——**卡特兰数问题**
	- 条件：操作序列(2n位)的任意前m位，**入栈数不比出栈数少**
	- 类似问题：
		- 买票找零：2n个人排成一行进入剧场，入场费5元。其中只有n个人有一张5元钞票，另外n人只有10元钞票，剧院无其它钞票，问有多少种排队方法使得售票处总能找零？(将持5元者到达视作将5元入栈，持10元者到达视作使栈中5元出栈)
		- 上三角路径规划：律师在住所以北n个街区和以东n个街区处工作，每天走2n个街区去上班。如果她不穿越（但可以碰到）从家到办公室的对角线，有多少条可能道路？
- 可行混洗输出序列分析：求解卡特兰数![[Pasted image 20241009112012.png]]
	- 公式：$h(n)=\frac{C_{2n}^n}{n+1}=\frac{(2n)!}{(n+1)!×n!}$
- 判断可行混洗序列：模拟算法![[Pasted image 20241009113254.png]]
#### 试探回溯
- 迷宫寻径问题：
	- 路径规划：找到起点到终点之间的一条通路
	- 使用栈记录从起点到当前点经过的路径，用于回溯与试探
	- 某位置无路可走，需标记该位置为死路，并回溯一步
- **试探与回溯**：
	- n变量的排序问题（如旅行商问题），搜索空间为O(n!)
	- 为此需尽可能早地排除空间中的候选解（**减枝**）
	- 从零开始，逐步增加候选解的长度，从长度上逐步向目标解靠近（**试探**）
	- 试探过程中一旦发现与目标解不合，则收缩一步长度，继续试探下一可能的组合（**回溯**）
	- 试探-回溯-减枝的过程，需要依赖**栈**记录当前的可行解
	- 也需要**标记**减枝的位置，以防重复
- 八皇后问题：
	- 试探回溯策略：逐个试探，出错回溯![[Pasted image 20241009113824.png]]
		- 每次在一行上布棋，每完成一行布棋对应迷宫问题的向前走一步
		- 试探某一行所有位置发现不可行（对应迷宫问题的无路可走），即需要回溯，上一行所布棋需悔棋
		- 最大绳索长度（栈中元素个数）为行数
	- 流程图：![[Pasted image 20241009114541.png]]
	- 代码实现：![[Pasted image 20241009114549.png]]![[Pasted image 20241009114558.png]]
- 迷宫寻径问题：
	- 流程图：![[Pasted image 20241009114719.png]]
	- 代码实现：![[Pasted image 20241009114909.png]]![[Pasted image 20241009114746.png]]![[Pasted image 20241009114843.png]]
---
[[L5 队列]]

