# 缓存组织和操作
- 缓存的基本概念：
	- [[L4.1 存储器体系结构#^b6c466|缓存的概念]]
	- 缓存可以提高程序性能的原理：[[L4.1 存储器体系结构#局部性原理|局部性原理]]
	- [[L4.1 存储器体系结构#^46f26b|缓存缺失]]
- 缓存组织方式：
	- 缓存索引组织：
		- 示意图：![[Pasted image 20251222103223.png]]
		- $S$：缓存中的组数，$S=2^s$，$s$为组索引的位数
		- $E$：每组中的行数（也即组相连的路数），$E=2^e$，$e$为组内行索引的位数
		- $B$：每行中的字节数，$B=2^b$，$b$为块内字节偏移的位数
		- 缓存容量：$C = S \times E \times B = 2^{s+e+b}$
		- 地址划分：从高位到低位
			- 标签（tag）：用于唯一标识主存块
			- 组索引（set index）：用于定位缓存中的组
			- 块内字节偏移（block offset）：用于定位块内的具体字节
	- 一路组相连（直接映射，Direct Mapped）：每个主存块映射到唯一的缓存行
		- 示意图：![[Pasted image 20251222102137.png]]
	- 二路组相连（2-way Set Associative）：每个主存块可以映射到两个缓存行中的任意一个
		- 示意图：![[Pasted image 20251222102212.png]]