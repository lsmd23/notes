- CFG与正则语言并不能表示所有的语言，依然需要找到表达能力更强的自动机
# 图灵机的定义
- 基本概念：
	- 图灵机有带有符号的无限长的带和由控制单元控制的读头构成![[Pasted image 20250507111340.png]]
	- 控制单元控制读头的工作，每次读头完成读一个符号，写一个符号，左/右移的操作
	- 写成状态转移图如下：
		- ![[Pasted image 20250507111525.png]]
		- 或：![[Pasted image 20250507111616.png]]
	- 状态转移函数：$\delta(q_1,a)=(q_2,b,R)$
	- 图灵机中所有的迁移都是确定的（因此也不允许有$\epsilon$迁移）
	- 图灵机允许状态下没有转移此时发生停机
	- 图灵机接受一个串，当且仅当图灵机可以到达某个终态（无论输入是否读完，是否停机）；拒接一个串，当且仅当图灵机停在一个非终态或进入一个无限循环
- 定义：七元组：$M=(Q,\Sigma,\Gamma,\delta,q_0,B,F)$
	- $Q$：有限状态集合
	- $\Sigma$：有限输入符号集
	- $\Gamma$：有限带符号集
	- $\delta$：转移函数：$\delta:Q\times\Gamma\rightarrow Q\times\Gamma\times\{L,R\}$
		- 转移函数可以用转移图或转移表表示
	- $q_0$：开始状态
	- $B$：空白带符，$B\in \Gamma-\Sigma$
	- $F$：终态集合
- 例：![[Pasted image 20250507114214.png]]
# 图灵机的即时描述
- 图灵机$M=(Q,\Sigma,\Gamma,\delta,q_0,B,F)$的当前格局（也即描述带上的所有除空白符以外的字符）
	- 当前状态为$q$，当前读头位于$X_i$
- 推导关系：定义推导关系$\vdash_M$	
	- 若有$\delta(q,X_i)=(p,Y,L)$，则$X_1X_2\cdots X_{i-1}qX_iX_{i+1}\cdots X_n \vdash_M X_1X_2\cdots X_{i-2}pX_{i-1}Y\cdots X_n$
		- 例外1：$i=1$时，$qX_1X_2\cdots X_n\vdash_M pBYX_2\cdots X_n$
		- 例外2：$i=n$且$Y=B$时，$X_1X_2\cdots X_{n-1}qX_n\vdash_M X_1X_2\cdots X_{n-2}pX_{n-1}$
	- 若有$\delta(q,X_i)=(p,Y,R)$，则$X_1X_2\cdots X_{i-1}qX_iX_{i+1}\cdots X_n \vdash_M X_1X_2\cdots X_{i-1}YpX_{i+1}\cdots X_n$
		- 例外1：$i=n$时，$X_1X_2\cdots X_{n-1}qX_n\vdash_M X_1X_2\cdots X_{n-1}YpB$
		- 例外2：$i=1$且$Y=B$时，$qX_1X_2\cdots X_n\vdash_M pX_2\cdots X_{n-1}X_{n}$
	- 定义推导关系的传递闭包为$\vdash_M^*$
# 图灵机的语言
- 图灵机$M=(Q,\Sigma,\Gamma,\delta,q_0,B,F)$，其语言定义为：$L(M)=\{w|w\in \Sigma^*,q_0w\vdash^*_M \alpha p\beta,p\in F,\alpha\in\Gamma^*,\beta\in\Gamma^+\}$
	- 图灵机接受的语言称为**递归可枚举语言**
	- 定理：任给图灵机$M$，容易构造一个图灵机$M’$，使得$L(M)=L(M')$，并满足：如果$w∈L(M)$，则对于$w$，$M'$接受$w$并一定停机
		- 由此结论，如果没有特别指出，今后假定图灵机到达终态后一定停机
	- 递归语言：称语言$L$是**递归的**，当且仅当存在图灵机$M$，$L=L(M)$，且满足：
		- 若$w\in L(M)$，则对于$w$，$M$接受$w$，显然会停机
		- 若$w\notin L(M)$，则对于$w$，$M$最终也会停机，但不能到达终态
# 图灵机的计算
- 定义：函数$f$是可计算的，如果存在图灵机M，对任意$w\in D$，满足：$f:q_ow\vdash^* q_ff(w)$
	- 例：加法运算的图灵机（在图灵机中，用0的个数表示一个整数），输入$x1y$，输出$xy1$![[Pasted image 20250514100624.png]]![[Pasted image 20250514100630.png]]
	- 例：$f(x)=2x$的图灵机
		- 思路：用\$代替每一个0；并重复：找到字符串最右\$，替换为0；移动到带的最右端，插入一个0。直到替换完所有的符号\$
		- 实现：![[Pasted image 20250514100720.png]]
	- 例：函数$f(x,y)=(x>y)?1:0$是可计算的
		- 思路：重复匹配$x$中0与$y$中的0，直到$x$与$y$匹配完毕。若$x$仍有剩余的0，擦去带中符号，写1，否则写0
# 图灵机理论
- 图灵机的计算机实现：
	- 图灵机$M= (Q,Z,\Gamma,\delta, q_0, B, F)$状态中可以包含一个具有有限个取值的存储单元，即状态集合为：$Q=S\times T =\{[q,a]|q∈S, a∈T\}$，其中$q∈S$表示控制状态，$a∈T$表示数据元素
- 图灵机的编程：
	- 图灵机的状态之间是相互独立的，因此可以采用嵌套的方式，进行图灵机的程序设计
	- 例：
		- 子程序——复制$0^n$：![[Pasted image 20250514101627.png]]
		- 乘法图灵机：![[Pasted image 20250514101656.png]]
- 图灵理论：能计算机实现的就是能用图灵机实现的，也即算法就是图灵机
	- 图灵机的等价：图灵机$M_1$与图灵机$M_2$称为等价，如果$L(M_1)=L(M_2)$
	- 两类图灵机的功能相同$\Leftrightarrow$两类图灵机接受相同的语言集合$\Leftrightarrow$第一类中任一TM：$M_1$，第二类中一定存在TM：$M_2$，满足$L(M_1)=L(M_2)$，反之亦然
	- 等价性证明：每一类型的图灵机与标准图灵机的功能相同的。证明相同功能的方法——模拟：利用另一类中的TM模拟第一类中的TM
		- 模拟的方式：找到一组转移的映射$\vdash\rightarrow \vdash^*$，模拟TM的行为
# 图灵机的扩展
- 图灵机带的扩展：
	- 多通道图灵机：令读头每次读取的是一个向量，也即带的符号从单个的标量转换为多维的向量![[Pasted image 20250514102732.png]]
		- 将每个向量视为一个有序多元组，则其和单通道图灵机是等价的
		- 因此多通道图灵机也成为标准图灵机
	- 多带图灵机：
		- 特点：
			- 开始时，有限控制的读写头（读头）处于第一条带初始状态，即第一条带输入符号串的最左端；其余各带的读头置于任何单元格上
			- 每一步移动，控制单元进入新的状态，每条带上正被扫描的符号被替换为新的带符，每个带头独立地左移一格、右移一格或者不动
		- 例：![[Pasted image 20250514103214.png]]
		- 引理：多带TM和标准TM是等价的
			- 证明：多带图灵机模拟标准图灵机：仅用一个带即可。标准图灵机模拟多带图灵机：采用2倍的带，每一组带分别记录每个带上的读头位置和字符串，模拟时，总是先找到读头位置，之后按照一定方式进行模拟转移
		- 应用：多带图灵机可以加快计算的速度
	- 多维图灵机：带为多个维度的高维矩阵的图灵机
		- 定理：多维图灵机和标准图灵机是等价的
			- 证明：使用多个通道，符号存储在通道1，坐标则存储在通道2。每次转移更新符号，计算后一位置坐标并转移到新位置
- 图灵机移动的扩展：
	- 停止功能的图灵机：读头不仅可以左右移动，还可以停止在当前的位置
		- 定理：停止功能图灵机和标准图灵机是等价的
	- 非确定图灵机：
		- 定义：$M$下一步移动有多种选择，转移函数定义为：$\delta:Q\times \Gamma→2^{Q×\Gamma\times D}$，其中$Q$、$\Gamma$和$D$分别为有限状态集、带符号集和读头的移动方向，即$\delta(q,X)$为三元组的集合：$\{(q_1,Y_1, D_1), (q_2,Y_2, D_2), ..., (q_k,Y_k, D_k)\}$
		- 输入串被接受，如果下列计算成立：$q_0w\vdash^* xq_fy$
		- 定理：非确定图灵机和标准图灵机等价
- 受限图灵机：
	- 半无限带机：带的一侧有限的图灵机![[Pasted image 20250514111256.png]]
	- 定理：半无限带机和标准图灵机等价
- 图灵机与其他自动机：
	- 多栈机：对PDA进行多维扩展，包含$k$个堆栈的PDA的状态转移函数为：$\delta(q,a,X_1,X_2,\cdots,X_k)=(p,\gamma_1,\gamma_2,\cdots,\gamma_k)$
		- 定理：多栈机和标准图灵机功能相同
			- 双栈PDA可以模拟标准图灵机
			- 多带图灵机可以模拟多栈机：一条带用于扫描输入。另三条带模拟堆栈
	- 计数器机：
		- 计数器机的概念：
			- 计数器机只有两个栈符号：$\{Z_0,X\}$，栈底符号为$Z_0$，$Z_0$只能被替换为$X^iZ_0(i≥0)$，$X$只能被替换为$X^i(i≥0)$。
			- 栈顶为$Z_0$和$X$分别相当于计数器的值是0或是非0。$X$入栈相当于计数器加1，$X$出栈相当于计数器减1，$Z_0$不会出栈相当于计数器为0时不能减1
			- 将多栈机的多个堆栈替换为多个计数器，每个计数器存放一非负整数，每个计数器的值是0或是非0。计数器机根据当前的状态，下一个输入符号以及每个计数器的当前值是否为0来确定下一步动作：这样的计数器机相当于一个特殊的多栈机![[Pasted image 20250521101117.png]]
		- 定理：具有两个或以上计数器的计数器机等价于图灵机，也即接受递归可枚举语言
			- 计数器机的操作：
				1) 把一个数加上或减去$a$，对减法，当$a<b$时，规定$a-b=0$（记作$x+=a$或$x-=a$）
					- 方法：用$a$个状态重复$a$次$+1$或$-1$的操作
				2) 把一个计数器上的数改写为任何值$a(a≥0)$（记作$x=a$）
					- 方法：把值先减到0，然后加上a
				3) 把一个计数器上的数移动/累加到另一个计数器上，自身变为0。（移动记作$y←x$或$y=x,x=0$）
					- 方法：x每次-1的同时，y+1，直到x变为0为止。(对于移动的情况，y要先清零)
				4) 把一个计数器上的数复制/累加到另一个计数器上，并保持自身不变（记作$y=x$）方法:e一x,y一x(此时x变为o了);х一e
				5) 把一个计数器上的数乘以一个常数（记作$x *= a$）方法：每次x一=1同时e+=a，直到x减到0为止;再x←e
				6) 把一个计数器上的数除以一个常数（根据带余除法的规则，舍弃余数）。（记作χ/=a)方法：每次x一=a同时e+=1，直到x减到0为止;再e-=1;x←e
				7) （7）求一个数模一个常数a的余数，保存在另一个计数器上。(记作y=x%a)方法：构造a个状态，记为(0,1,,a一1)。从状态0开始，每次x一=1,e+=1，并进行一次状态转移（状态序号+1）；直到x减到0时，若停在序号为b的状态，就说明余数为b。并且此时e中的值就是原来x中的值。于是再x←e;y=b即可。
			- 性质：任何递归可枚举语言可以被具有三个计数器的计数器机接受




- 图灵机与计算机：
	- 普通计算机能模拟图灵机：采用适当的数据结构（如转移表），可以编译普通的计算机程序，实现图灵机的有限状态控制机制。对无限延伸的带，只需假设存储系统有较大的内存即可
	- 用多带的图灵机可以模拟普通的计算机