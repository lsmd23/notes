# 多项式时间
- 对算法而言，多项式的时间复杂度是实际运行允许的，因而是可行的好的算法
	- 多项式时间复杂度的算法和实际问题的模型无关
	- 多项式时间复杂度的算法具有运算的封闭性
- 问题：
	- 抽象问题：二元关系$Q:S\times I$，其中$I$是问题集合，$S$是问题解集合
		- 最简单的问题是判定问题：$S=\{0,1\}$，复杂问题一般都可以抽象成判定问题的组合
	- 具体问题：计算机中将抽象问题的问题集合形式化并编码为二进制的串，称为具体问题
		- 问题的编码：除非使用很单一的编码方式（例如单元编码），否则一个问题的两种编码之间的转换可以在多项式时间内完成
		- 也即，编码方式基本不影响问题的多项式可解性
	- **多项式时间可解**：存在一个复杂度$O(n^k)$的算法求解这个问题，其中$n$是具体问题的长度，$k$是某个长常数
	- 复杂度类：多项式时间可解的**具体判定问题集合**
- 形式语言框架：
	- 使用形式语言的框架描述问题的集合：[[形式语言与自动机/L0 绪论#形式语言基础|形式语言的基本概念]]
	- 一个判定问题$Q$，可以视为在字母表$\Sigma = \{0,1\}$上的一个语言：$L=\{x\in\Sigma^*:Q(x)=1\}$，也即判定为1的字符串集合
	- 一个算法也即一个映射，其接受一个字符串当且仅当输出的值为1，不接受一个字符串当且仅当输出的值为0
	- 语言被算法接受当且仅当其包含的所有的字符串都被算法所接受
	- 一个语言被算法判定，当且仅当语言L中所有的串被算法接受，不属于语言的所有的串被算法拒绝
	- 多项式时间：
		- 语言在多项式时间内**被接受**：存在多项式时间算法**接受**所有的属于该语言的串
		- 语言在多项式时间内**被判定**：存在多项式时间算法**接受**所有的语言的串，并**拒绝**所有不属于语言的串
	- 复杂度类$P$：可以在多项式时间内**判定**的语言的集合
		- 定理：$P$可以被表示为被某个算法在多项式时间内**接受**的语言的集合
	- 验证：
		- 验证算法：二元的映射$A$，其中一个参数是平凡的描述问题的串$x$，另一个参数$y$称为证书
		- 验证：算法$A$验证$x$，当且仅当存在一个证书$y$使得$A(x,y)=1$
			- 语言$L$被算法所验证：$L=\{x\in\{0,1\}^*:\exists y\in\{0,1\}^*,s.t.A(x,y)=1\}$
		- 复杂度类$NP$：可以被某个算法在多项式时间内被**验证**的问题集合

# NP-完全性
- 归约：
	- 定义：称语言$L_1$可多项式时间被归约到$L_2$，当且仅当$\exists f:\{0,1\}^*\rightarrow\{0,1\}^*(f是多项式可计算的),s.t. \forall x\{0,1\}^*,x\in L_1\Leftrightarrow f(x)\in L_2$，记作$L_1\leq_p L_2$。称$f$为归约函数，计算$f$的算法$F$称为归约算法
		- 示意：![[Pasted image 20250520080830.png]]
	- 引理：若$L_1,L_2\in\{0,1\}^*,L_1\leq_pL_2$，则$L_2\in P\Rightarrow L_1\in P$
		- 证明是平凡的：![[Pasted image 20250520081030.png]]
- NP-完全性：
	- 定义：称语言$L$是**NP-完全的**，当$L\in NP$，且$\forall L'\in NP,L'\leq_p L$（也即其是NP问题中最难的问题）。若其仅满足$\forall L'\in NP,L'\leq_p L$，则称其为**NP-难的**
	- 定理：若任意的NP-完全问题是多项式时间可解决的，则$P=NP$；或者说，若存在一个NP问题是多项式时间不可解的，则不存在多项式时间可解的NP-完全问题
	- 电路满足性问题：
		- 描述：给定由与门、或门、非门组合成的组合电路，是否存在一个输入函数，使其输出的值可以为真
		- 显然，要判定该问题，是指数复杂度的（需要枚举全部的输入），但对给定的输入，验证该问题是多项式时间内可完成的，因此其是**NP问题**
		- 引理：电路满足性问题是**NP-难的**
		- 因此，电路满足性问题是**NP-完全的**
	- NP-完全性证明：
		- 引理：若存在语言$L,L'$，$L'\in NPC$，$L'\leq_p L$，则$L$是NP-难的问题。此外，若$L\in NP$，则$L\in NPC$
			- 证明：![[Pasted image 20250520082650.png]]
		- 由上述引理，可以获取一个证明步骤：
			1. 证明$L\in NP$
			2. 选取一个NP-完全语言$L'$
			3. 找到一个算法$f$，可以将任意的二进制串$x\in L'$映射到另一个串$f(x)\in L$
			4. 证明：$\forall x\in\{0,1\}^*$，$x\in L'$当且仅当$f(x)\in L$（也即映射$f$是双射）
			5. 证明算法$f$在多项式时间内运行
		- 例：公式满足性问题：给定含与、或、非、蕴含、双蕴含逻辑运算符的布尔函数，是否存在一个输入使其为真
			- 显然，公式满足性问题是NP-问题
			- 可以找到多项式时间的算法，使其对任意的$x\in L'$（$L'$为电路满足问题的语言）可以映射到公式满足性问题$L$上
			- 可以证明这样的映射是双射，也即证明了：电路满足性问题 $\leq_p$ 公式满足性问题
			- 由此，**公式满足性问题是NP-完全的**
# 典型的NP-完全问题
- 三合取范式满足性问题：
	- 问题描述：[[L2 命题逻辑的等值和推理演算#范式|合取范式]]，三合取范式即由三个析取式合取形成的范式
	- 证明：
		- 取公式满足性问题为$L'$
		- 等价性证明，只需证明任意一个公式都可以转化为三合取范式即可
		- 任意的逻辑表达式都可写出一个解析树
			- 例：![[Pasted image 20250520084316.png]]
		- 对任意二叉树节点上的子句，可以转化为三合取范式
		- 也即找到了一个多项式时间可计算的从三合取范式满足性问题到公式满足性问题的双射
		- 因此，三合取范式问题是NP-完全的
- 团问题：
	- 问题描述：寻找一个无向图中的最大的连通分量的大小
	- 若连通分量的大小是常数，则其是多项式时间可判定的（暴力枚举即可）；若给定一个可能的解，可以在多项式时间内验证其是否属于该问题的解，因此其是NP问题
	- 