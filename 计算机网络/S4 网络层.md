- 网络层：负责在主机之间传输数据包，提供逻辑寻址和路由选择功能
	- 在发送端：将报文封装成数据包，添加源IP地址和目标IP地址
	- 在接收端：根据目标IP地址将数据包解封装，提取出报文
	- 关键功能：
		- 转发：根据目标IP地址选择合适的路径将数据包发送到目的地
		- 路由：确定数据包传输路径的过程
- 网络层协议：位于主机和路由器之间的协议
	- *传输层协议则是处理进程之间通信的协议*
	- 网络服务模型：发送端和接收端的特性
		- 内容：确保交付、时延上界、有序分组、安全性、最小带宽等
# 虚拟电路与数据报网络
- 虚拟电路网络（Virtual Circuit Network, VCN）：网络层的连接导向服务
	- 特点：
		- 源和目的的路径和电话电路很相似
		- 在传输时，为每次连接进行建立和拆除
		- 每组连接都有一个唯一的虚拟电路标识符（VCI），路径上的每个路由器都维护一个VCI表，表示连接的状态
	- 组成：
		- 源到目的的路径
		- VC编号：每个连接的唯一标识符
		- 转发表：路由器维护的VCI映射表，负责将输入VCI映射到输出VCI和输出端口（也即记录连接的源和目的）![[Pasted image 20251029163612.png]]
	- 协议：信令协议（用于建立和拆除连接），目前已很少使用
- 数据报网络（Datagram Network）：网络层的无连接服务
	- 特点：
		- 每个数据包独立传输，包含完整的源和目的地址
		- 路由器根据目标地址决定数据包的转发路径
		- 不需要建立连接，适合动态变化的网络环境
	- 转发表：由两列组成，分别是目的地址范围和链路接口
		- 地址范围：用二进制表示的IP地址
		- 链路接口：数据包发送的输出端口
		- **最长前缀匹配**：由于地址的长度很长，难以全部存储，因此实际的转发表通常只存储地址的前缀部分。路由器在查找转发表时，选择与目标地址匹配的最长前缀项进行转发，解决查找时间的问题
- 对比：
	- 现在的互联网主要采用数据报网络
		- 计算机之间的数据交换是一种弹性服务、无需严格要求
		- 由于互联网链路的复杂性，难以组织起统一的虚拟服务
	- 虚拟电路网络适用于需要可靠连接的场景，如电话网络
# 路由器工作原理
- 路由器（router)：运行路由算法/协议，将数据报从一个网络转发到另一个网络的设备
- 路由器的组成：如图所示![[Pasted image 20251102190433.png]]
	- 输入端口：
		- ![[Pasted image 20251102191235.png]]
		- 线路终端（line termination)：处理物理层数据，负责接收和发送比特流
		- 数据链路层处理：处理链路层帧，参考[[S5 链路层|链路层]]
		- 查找、转发、排队等功能：根据目标地址查找转发表，决定数据包的输出端口等网络层功能
			- 转发机制：**分散式交换**
				- 对每个数据包按照转发表逐个查找，决定输出端口
				- 排队机制：当输出端口繁忙时，数据包进入排队等待发送
			- **输入端口排队**：当交换机忙时，数据包进入输入端口队列等待处理
				- 头对头阻塞：输入数据包阻塞会导致输出端口空闲，从而发生阻塞，导致延迟
	- 交换机：路由器的核心，在输入端口和输出端口之间传输数据包
		- 交换结构：
			1. 经内存交换：数据包先存储在内存中，再从内存发送到输出端口
				- 特点：**存储-转发**模式，速率受内存速度限制，且存在延迟
			2. 经总线交换：通过共享总线连接输入端口和输出端口
				- 特点：成本低，但总线带宽有限，可能成为瓶颈
			3. 经互联网络交换：使用专用的交换网络连接输入端口和输出端口
				- 特点：高性能，解决瓶颈问题，适合大规模路由器，但成本较高
	- 输出端口：如图所示![[Pasted image 20251102191816.png]]
		- 排队：当多个数据包竞争同一输出端口时，进行排队
		- 数据链路层处理：将数据包封装成**链路层帧**，准备发送
		- 线路终端：将数据包转换为**物理层信号**，发送到链路上
		- 关键机制：排队与缓冲
			- **输出端口排队**：当输出端口忙时，数据包进入输出端口队列等待发送
			- 缓冲容量规划：根据流量特性和服务质量要求，设计合适的缓冲区大小，避免丢包和延迟过大
# 网际协议（IP）
## 数据报格式
- 格式示意图：
	- ![[Pasted image 20251102192454.png]]
	- **版本**（Version, 4 bits)：表示IP协议的版本号，IPv4为4，IPv6为6
	- **首部长度**（Header Length, 4 bits)：表示IP首部的长度，以32位字为单位
	- **服务类型**（Type of Service, 8 bits)：用于指示数据报的优先级和服务质量要求
	- **总长度**（Total Length, 16 bits)：表示整个IP数据报的长度，包括首部和数据部分，以字节为单位
	- **标识**（Identification, 16 bits)：用于唯一标识数据报，主要用于分片和重组
	- **标志**（Flags, 3 bits)：用于控制和标识数据报的分片
	- **片偏移**（Fragment Offset, 13 bits)：表示数据报分片在原始数据报中的位置
	- **寿命字段**（Time to Live, 8 bits)：用于限制数据报在网络中的生存时间，防止数据报在网络中无限循环
	- **协议**（Protocol, 8 bits)：指示数据报携带的上层协议类型，如TCP、UDP等
	- **头部校验和**（Header Checksum, 16 bits)：用于检测IP首部在传输过程中是否出错
	- **源和目的IP地址**（Source and Destination IP Address, 32 bits each)：分别表示数据报的发送方和接收方的IP地址
	- **选项**（Options, variable length)：用于提供额外的控制信息，可选字段
	- **填充**（Padding, variable length)：用于确保IP首部长度为32位的整数倍
- IP分片与重组（IP Fragmentation and Reassembly）
	- **最大传输单元**（MTU）：链路层帧所能承载的最大数据长度，不同的链路层的MTU不同
	- 分片：当数据报长度超过MTU时，路由器将数据报分成多个片段进行传输
		- 每个片段都有自己的IP首部，且标识、标志和片偏移字段用于重组
	- 重组：在最终目的地主机上，根据标识、标志和片偏移字段将分片重新组装成完整的数据报
	- 示例：![[Pasted image 20251102193302.png]]
## IPv4编址
- IP地址：32位的标识，标识主机或路由器的接口，分为子网部分和主机部分
	- **子网**（Subnet)：**不经过路由器**就可以直接互联的一组主机，是网络中的一个分组
		- 子网掩码：标识IP地址中哪一部分是子网部分，哪一部分是主机部分，以"/xxx"的形式表示（如：223.1.1.0/24表示32位中的前24位为子网部分）
			- 被标识的位也被称为网络**前缀**
		- 不同的子网之间通过路由相连接，每个子网通常还留有一些地址供路由器接口使用
	- **无类别域间路由**（Classless Inter-Domain Routing, **CIDR**)：一种灵活的IP地址分配方法
		- 通过子网掩码，灵活划分子网大小，避免地址浪费
		- 允许路由器使用前缀进行路由选择，提高路由效率	
- IP地址的配置：
	- 静态配置：手动设置IP地址，适用于服务器等固定设备
	- 动态配置：通过DHCP等协议自动分配IP地址，适用于客户端设备
		- **动态主机配置协议**（Dynamic Host Configuration Protocol, **DHCP**)：一种自动分配IP地址的协议，允许动态的配置一台主机的IP地址及其他网络参数
			- 工作流程：
				1. 主机使用源地址0.0.0.0和目的地址255.255.255.255在链路层广播DHCP发现报文，寻找可用的DHCP服务器
				2. DHCP服务器响应，提供IP地址和其他配置信息
				3. 主机请求分配的IP地址
				4. DHCP服务器确认分配IP地址
				- 示例：![[Pasted image 20260111222857.png]]![[Pasted image 20251102194820.png]]
- IP地址的获取：设备获取IP地址依靠其服务提供商的地址分配
	- 层次化寻址：提供商的IP地址块再分配给下级提供商或最终用户，按照层次化的方式进行地址的组织
	- ICANN：（Internet Corporation for Assigned Names and Numbers）负责全球IP地址分配和管理的组织
- **网络地址转换**（Network Address Translation, **NAT**)：一种将私有IP地址转换为公共IP地址的技术
	- 私有IP地址：在局域网内使用的IP地址，不在互联网上路由
		- 例如：一个家庭内部的设备使用私有IP地址进行通信，但这一个地址无法在互联网上使用
	- 公共IP地址：在互联网上唯一标识设备的IP地址
		- 例如：ISP分配给家庭路由器的公共IP地址，用于与互联网通信
	- 工作原理：
		1. 出站数据包：路由器将私有IP地址转换为公共IP地址，并记录转换映射
		2. 转换表：维护私有IP地址和公共IP地址之间的映射关系
		3. 入站数据包：根据转换表将公共IP地址转换回私有IP地址，发送到正确的内部设备
		- 例：![[Pasted image 20251102200304.png]]
	- 问题：
		- 借助16位的端口字段，每个内网地址可以支持多达65536个外部连接，但这一方式违背了网络层的原则
		- NAT穿越问题（NAT Traversal Problem)：内网的地址并不暴露给外网，使得P2P通信变得困难
			- 解决：
				1. 静态地在NAT服务器上映射某些端口
				2. 借助UPnP（全局即插即用，Universal Plug and Play）互联网网关设备（IGD）协议，允许内网主机动态地在NAT上映射端口
				3. 借助中继服务器，让内外网的主机通过中继服务器通信
## ICMP协议
- 互联网控制消息协议（Internet Control Message Protocol, **ICMP**）：用于在主机和路由器之间传递网络层消息的协议
	- 主要功能：
		- 传递错误报告：如目的不可达、时间超过等
		- 回显请求和应答：用于诊断网络连接，如ping命令
	- 传输方式：封装在IP数据报中传输，逻辑上位于网络层
	- 格式：包括类型、错误码以及引发错误的数据报的前8字节
		- 常见错误：
			- ![[Pasted image 20251102201810.png]]
- 追踪路由（traceroute）：一种利用ICMP协议诊断网络路径的工具
	- 工作流程：
		1. 源主机向目的主机发送一系列UDP的分段，每个分段的TTL值逐渐增加，并使用高端口号
		2. 当第n个分段到达第n个路由器时，路由器丢弃该分段并发送一个ICMP超时消息回源主机，包含路由器的IP地址和名称
		3. RTT计算：当ICMP消息返回时，源主机计算往返时间（RTT），实际会执行三次以获得平均值
		4. 当目的主机收到分段时，发送一个ICMP端口不可达消息回源主机，表示追踪结束，源主机收到后即停止追踪路由
## IPv6
- IPv6：下一代互联网协议，解决IPv4地址耗尽和其他问题
	- 数据报格式：如图![[Pasted image 20251102202423.png]]
		- **优先级**（Priority）：表示数据报的优先级
		- **流标签**（Flow Label）：用于标识数据报流，支持实时应用
		- **下一头**（Next Header）：指示下一个协议头的类型，标识上层协议
		- 其他改动：移除了校验和，将选项移到头部以外，并引入新的ICMPv6协议
- 过渡技术——隧道（Tunneling）：在IPv4网络中传输IPv6数据报的技术
	- 背景：由于目前网络中IPv4和IPv6共存，隧道技术允许IPv6数据报通过IPv4网络传输
	- 过程：
		1. 源主机或边界路由器将IPv6数据报封装在IPv4数据报中，设置适当的源和目的IPv4地址
		2. 在IPv4网络中传输封装后的数据报
		3. 目的边界路由器或主机解封装，提取出原始的IPv6数据报进行处理
	- 示例：![[Pasted image 20251102202740.png]]
# 路由选择算法
- 路由选择建模：
	- 路由器之间的网络可以建模为一个图：
		- 节点：表示路由器
		- 边：表示路由器之间的链路，权重表示这条链路的成本，成本可以是延迟、带宽、经济费用等
	- 路由算法也即求解图中**最短路径**的问题
## 链路状态路由算法(LS算法)
- 链路状态路由算法（Link State Routing Algorithm, **LS算法**）是一种集中式的路由选择算法，在运行时需要以某种方式获取整个网络的拓扑结构
- 算法原理：[[Chapter 2 道路与回路#^19891c|Dijkstra算法]]
	- 运行完算法后，构建了一棵最短路径树，从源节点到每个节点的路径即为最短路径
	- 复杂度：$O(n^2)$，可以优化到$O(n\log n)$
	- 问题：网络**振荡**
		- 当链路成本等于负载时，链路成本本身是变化的数值，随网络传输而改变
		- 每次运行LS算法时，可能会导致路由选择的改变，从而引起网络状态的频繁变化，形成振荡
		- 例：![[Pasted image 20251107140429.png]]
## 距离向量路由算法(DV算法)
- 距离向量路由算法（Distance Vector Routing Algorithm, **DV算法**）是一种分布式的路由选择算法，每个路由器只与其直接相连的邻居交换路由信息
- 算法原理：基于[[Chapter 2 道路与回路#^74209e|Ford算法]]的异步实现
	- Bellman-Ford方程：$d_x(y) = \min_{v} \{c(x,v) + d_v(y)\}$
		- $d_x(y)$：节点x到节点y的最短路径距离
		- $c(x,v)$：节点x到其邻居节点v的链路成本
		- $d_v(y)$：邻居节点v到节点y的最短路径距离
		- 特点：是一个动态规划方程，同时每一项对网络中都是单个节点可计算的
	- 算法流程：
		- 每个节点（路由器）维护信息如下：
			- 和周围邻居节点的成本$c(x,v)$
			- 节点的距离向量$\pmb D_x = [D_x(y): y \in N]$，包含从节点x到所有节点y的当前估计距离
			- 每个邻居的距离向量$\pmb D_v$，包含从邻居节点v到所有节点y的当前估计距离
		- 每个节点**周期性地**将其距离向量**发送**给所有**邻居节点**
		- 每个节点接收到邻居节点的距离向量后，使用Bellman-Ford方程**更新**自己的距离向量
		- 例：![[Pasted image 20251107141656.png]]
	- 特点：
		- 分布式算法：每个节点只需要与邻居交换信息
		- 适应性强：在网络变化时，只需要某个节点向邻居发送更新信息，即可实现路由调整
	- 问题：路由选择环路与计数到无穷问题：
		- **路由选择环路**：当某条路径开销变大时，如果经过该路径的节点没有及时更新其路由信息，可能会导致选择出现环路，但节点无法检测到，导致错误
			- 例：![[Pasted image 20251107142237.png]]
				- 当x到y的成本增长到60时，由于z依然向y传递"（经y的）到达x的最小开销为5"的消息，导致y无法更新最短路径
		- **毒性逆转**（Poisoned Reverse）：一种解决路由选择环路的方法
			- 原理：当节点v将其距离向量发送给邻居节点x时，如果节点v的最短路径是通过节点x到达某个节点y的，则将该路径的距离设置为**无穷大**，表示不可达
			- 例：在上图中，z向y发送距离向量时，将到达x的距离设置为无穷大，避免y选择通过z到达x的路径
		- 计数到无穷：当网络更加复杂时，简单的毒性逆转操作无法解决问题的收敛性，难以迅速收敛到正确解
## LS算法和DV算法对比
- LS算法：
	- 需要全局网络拓扑信息
	- 计算复杂度较高
	- 收敛速度较快
	- 适用于小型网络
	- 存在振荡问题
- DV算法：
	- 只需要与邻居交换信息
	- 计算复杂度较低
	- 收敛速度较慢
	- 适用于大型网络
	- 存在路由选择环路和计数到无穷问题
## 分层路由
- 简单路由算法的局限性：
	- 实际网络节点数量巨大，维护完整的路由表开销过大
	- 实际网络结构并不是扁平化的，路由器被聚合到不同的系统中
- 分层路由（Hierarchical Routing）：将网络划分为多个层次，每个层次使用不同的路由算法
	- **自治系统**（Autonomous System, **AS**）：由一个或多个网络组成的集合，由单一管理实体控制
	- 路由器转发由自治系统内路由算法和自治系统间路由算法共同决定
	- 实际工作时，路由器对AS内的其他路由器可见，对AS外的路由器，只暴露其AS的边界路由器
# 网络中的路由选择
- 自治系统内路由选择协议（Interior Gateway Protocol, **IGP**）：用于自治系统内部的路由选择
	- 开放最短路径优先协议（Open Shortest Path First, **OSPF**）：基于LS算法，适用于大型网络
	- 距离向量路由协议（Routing Information Protocol, **RIP**）：基于DV算法，适用于小型网络
	- 内部网关路由协议（Interior Gateway Routing Protocol, **IGRP**）：私有协议，基于DV算法
- 自治系统间路由选择协议（Exterior Gateway Protocol, **EGP**）：用于不同自治系统之间的路由选择
	- 边界网关协议（Border Gateway Protocol, **BGP**）：当前互联网的主要EGP，基于路径向量算法
## RIP协议
- 距离向量路由协议（Routing Information Protocol, **RIP**）：基于DV算法的路由选择协议
	- 度量方式：使用跳数作为路径成本，最大跳数为15，更大的视为不可达
	- 路由通告：
		- 每30秒向邻居广播距离向量，也称为通告
		- 每条通告最多列出25个AS内的目的子网
		- 使用毒性逆转和水平分割等技术解决路由选择环路问题
	- 示例：![[Pasted image 20251107144111.png]]
	- 链路故障与恢复：
		- 180秒内未收到邻居的通告，视为链路故障
		- 之后，使得通过该邻居的路由失效，并发送通告使得其他路由器更新路由信息
		- 采用**毒性逆转**防止环路，将16记为无穷大
	- 实现：
		- 路由表由应用层的进程维护
		- 通告以UDP报文形式发送，经由其他层次完成信息交换和更新
## OSPF协议
- 开放最短路径优先协议（Open Shortest Path First, **OSPF**）：基于LS算法的路由选择协议
	- 链路状态通告（Link State Advertisement, **LSA**）：用于交换链路状态信息的消息
		- 每个路由器生成LSA，包含其直接连接的链路信息
		- LSA通过洪泛（flooding）方式传播到自治系统内的所有路由器
	- 路由计算：
		- 每个路由器根据收到的LSA构建完整的网络拓扑图
		- 使用Dijkstra算法计算最短路径，更新路由表
	- 特性：
		- 安全性：支持认证机制，防止伪造LSA
		- 等价多路径选择：支持多条等价路径的负载均衡
		- 多服务类型成本：支持不同类型的链路成本计算
	- 层次化OSPF：
		- 由本地区域（Area）和骨干区域（Backbone Area）组成
		- 区域边界路由器（Area Border Router, **ABR**）：连接不同区域的路由器
		- 骨干区域路由器（Backbone Router）：连接骨干区域内的路由器
		- 自治系统边界路由器（Autonomous System Boundary Router, **ASBR**）：连接自治系统与外部网络的路由器
		- 每个链路通告仅在其所在**区域内传播**，减少LSA数量，提高效率
## BGP协议
- 边界网关协议（Border Gateway Protocol, **BGP**）：用于自治系统间路由选择的协议
	- 功能：
		- 从邻居AS获得对应的子网前缀的可达性信息
		- 确定到达这些前缀的最佳路径
	- 原理：
		- 在BGP中，每对路由器使用179端口的TCP连接进行通信，称为BGP对等体（BGP Peer）的BGP连接
			- 连接分为AS内的内部BGP（iBGP）连接和AS间的外部BGP（eBGP）连接
		- 路由通告：
			- BGP路由器通过BGP连接交换路由信息，称为BGP通告
			- 每个通告包含目的子网前缀和路径属性，如AS路径、下一跳等
			- 例：![[Pasted image 20251107160623.png]]对AS3，会经由网关路由器3a传播对应的路由通告到AS2和AS1
		- 路径选择：
			- BGP使用多种路径属性进行路径选择，如AS路径长度、下一跳可达性等
			- 选择最佳路径时，优先考虑路径属性，确保路由的稳定性和可达性
# SDN：软件定义网络
- 背景：
	- 传统网络特点：
		- 传统网络控制采用分布式控制，每个路由器独立运行路由算法，确定转发表和转发路径
		- 实现上，路由器内运行专有的操作系统，在内部实现对数据平面的控制，以及其它的一些协议（如防火墙、NAT等）
	- 路由控制问题：
		- 路径管理：在下图中，由于分布式管理，若希望控制转发路径，则需要调整路径权重。但由于路径权重影响整个网络的路由选择，调整一个路径的权重可能会影响其他路径的选择，导致不可预期的结果甚至是拥塞![[Pasted image 20251109171346.png]]
		- 负载均衡：在下图中，若两条路径目前都没有明显负载，最佳选择希望流量均匀分布在两条路径中。但分布式路由选择难以进行多路径的负载均衡![[Pasted image 20251109171510.png]]
		- 差异化转发：在下图中，若希望不同类型的流量以不同方式、不同路径转发，分布式路由选择难以实现这一目标![[Pasted image 20251109171654.png]]
	- **SDN**（Software Defined Networking）：一种集中式的网络控制架构，旨在解决传统网络中的控制问题，将所有分组交换机的控制逻辑集中在一个或多个控制器中进行集中调度
- 核心概念架构：
	- 示意图：![[Pasted image 20251109171925.png]]
		- 通用流表转发：分组交换机不再运行复杂的路由算法，而是维护一个简单的流表，根据流表进行分组转发
		- 控制与数据平面分离：控制逻辑集中在控制器中，分组交换机仅负责数据转发等动作的执行
		- 控制功能外部化：控制器通过开放的API与分组交换机通信，实现对网络的集中控制和管理，同时有相当高的可编程性
	- 数据平面：SDN交换机
		- 只负责处理数据包的转发，没有复杂的控制逻辑，通过标准化的接口与控制器通信
		- 硬件实现：多采用通用式硬件和系统软件，统一化处理，降低成本
	- 控制平面：SDN控制器
		- 负责网络的整体控制和管理，运行路由算法，维护全局网络视图
		- 应用服务：通过向上API提供网络编程接口，支持各种网络应用和服务的开发（如查询网络拓扑、配置路由策略等）
		- 数据管控：通过向下API与分组交换机通信，配置流表，实现对数据包的转发控制
	- 应用平面：网络应用
		- 运行在控制器之上，利用控制器提供的API实现各种网络功能和服务
		- 实现SDN的可编程性，将特定的业务需求转化为实际网络的配置和控制
- **OpenFlow**协议：一种标准化的SDN控制器与分组交换机之间通信的协议
	- 基本原理：
		- 控制器通过OpenFlow协议向交换机下发流表项，定义数据包的匹配规则和对应的动作
		- 交换机根据流表项对收到的数据包进行匹配和处理，实现对数据包的转发控制
	- 流表项结构：
		- 匹配字段：定义数据包的匹配规则，如源/目的IP地址、端口号等
			- 在OpenFlow中，匹配可以支持不同层次的头部字段（链路层帧、网络层数据报、传输层段等）
			- 支持精确匹配和掩码匹配（通配符）
		- 动作：定义匹配数据包后执行的操作
			- 转发到指定端口：将数据包发送到指定的交换机端口
			- 广播：将数据包发送到所有端口
			- 多播：将数据包发送到指定的多播组
			- 丢弃：丢弃匹配的数据包
			- 修改字段：修改数据包的某些头部字段（如IP地址、端口号等）
		- 优先级：定义流表项的优先级，决定匹配冲突时的处理顺序
		- 计数器：记录匹配的数据包数量和字节数，用于统计和监控
		- 示意图：![[Pasted image 20251109174200.png]]
	- 应用实例：
		- 目的地址转发：执行port动作![[Pasted image 20251109174317.png]]
		- 防火墙：执行drop动作![[Pasted image 20251109174354.png]]
		- 实际工作场景：![[Pasted image 20251109174432.png]]
	- 核心组件与功能：
		- 内部结构：层次化组织：
			- **状态管理模块**：维护交换机的状态信息，如端口状态、流表项等
			- **通信模块**：实现与控制器的通信，处理OpenFlow消息的发送和接收
			- **接口模块**：提供与数据平面交互的接口，实现数据包的接收和发送
			- 示意：![[Pasted image 20251109174612.png]]
		- 核心协议功能：
			- 控制类消息：用于交换机与控制器之间的控制信息，如特征查询、配置更新、流表管理等
			- 事件类消息：用于通知控制器交换机的状态变化，如端口状态变化、流表项过期等
			- 对称类消息：用于交换机与控制器之间的对称通信，如心跳消息等
		- 应用示例：链路故障恢复
			- 过程：
				1. 交换机检测到链路故障，发送端口状态变化事件消息给控制器
				2. 控制器接收消息后，更新网络拓扑视图，重新计算受影响的流表项
				3. 控制器通过OpenFlow协议向相关交换机下发新的流表项，调整数据包的转发路径
				4. 交换机根据新的流表项进行数据包转发，实现链路故障的恢复
			- 示意图：![[Pasted image 20251109174812.png]]
- 实现与挑战：
	- 实现：
		- SDN控制器：如OpenDaylight、ONOS等，提供集中式的网络控制和管理功能
		- SDN交换机：支持OpenFlow协议的交换机，如Open vSwitch等，实现基于流表的数据包转发
	- 挑战：
		- 可扩展性：随着网络规模的扩大，集中式控制可能面临性能瓶颈和延迟问题
		- 可靠性：控制器的单点故障可能导致整个网络的瘫痪，需要设计冗余和容错机制
		- 安全性：集中式控制可能面临攻击风险，需要加强控制器和交换机之间的安全通信
		- 兼容性：与传统网络设备的互操作性问题，需要设计适配机制
---
[[S5 链路层]]