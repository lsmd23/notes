- 网络层：负责在主机之间传输数据包，提供逻辑寻址和路由选择功能
	- 在发送端：将报文封装成数据包，添加源IP地址和目标IP地址
	- 在接收端：根据目标IP地址将数据包解封装，提取出报文
	- 关键功能：
		- 转发：根据目标IP地址选择合适的路径将数据包发送到目的地
		- 路由：确定数据包传输路径的过程
- 网络层协议：位于主机和路由器之间的协议
	- *传输层协议则是处理进程之间通信的协议*
	- 网络服务模型：发送端和接收端的特性
		- 内容：确保交付、时延上界、有序分组、安全性、最小带宽等
# 虚拟电路与数据报网络
- 虚拟电路网络（Virtual Circuit Network, VCN）：网络层的连接导向服务
	- 特点：
		- 源和目的的路径和电话电路很相似
		- 在传输时，为每次连接进行建立和拆除
		- 每组连接都有一个唯一的虚拟电路标识符（VCI），路径上的每个路由器都维护一个VCI表，表示连接的状态
	- 组成：
		- 源到目的的路径
		- VC编号：每个连接的唯一标识符
		- 转发表：路由器维护的VCI映射表，负责将输入VCI映射到输出VCI和输出端口（也即记录连接的源和目的）![[Pasted image 20251029163612.png]]
	- 协议：信令协议（用于建立和拆除连接），目前已很少使用
- 数据报网络（Datagram Network）：网络层的无连接服务
	- 特点：
		- 每个数据包独立传输，包含完整的源和目的地址
		- 路由器根据目标地址决定数据包的转发路径
		- 不需要建立连接，适合动态变化的网络环境
	- 转发表：由两列组成，分别是目的地址范围和链路接口
		- 地址范围：用二进制表示的IP地址
		- 链路接口：数据包发送的输出端口
		- **最长前缀匹配**：由于地址的长度很长，难以全部存储，因此实际的转发表通常只存储地址的前缀部分。路由器在查找转发表时，选择与目标地址匹配的最长前缀项进行转发，解决查找时间的问题
- 对比：
	- 现在的互联网主要采用数据报网络
		- 计算机之间的数据交换是一种弹性服务、无需严格要求
		- 由于互联网链路的复杂性，难以组织起统一的虚拟服务
	- 虚拟电路网络适用于需要可靠连接的场景，如电话网络
# 路由器工作原理


# 网际协议（IP）


# 路由算法


